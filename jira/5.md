---
Generated: 2025-11-16 10:00:00
Ticket Number: 5
---

# Lightweight Design System: Base Reusable Components

- Type: Feature  
- Priority: High  
- Story Points: 5  
- Labels: design-system, ui, accessibility, clean-architecture, performance, scss-variables  
- Git Branch: feat/fbc-5-light-design-system

## Description

Introduce a lightweight design system to standardize and reuse core UI components across the application. The goal is to ensure visual consistency, accessibility compliance (WCAG 2.1 AA), performance, and strict adherence to Clean Architecture and project conventions. All styling must use existing SCSS variables from `src/styles/variables/*` with no hardcoded values.

## User Story

As a user, I want consistent and accessible UI elements (texts, titles, inputs, images, links, buttons with or without loading) so that I have a predictable and usable experience across the application.

## Acceptance Criteria

- Base reusable components exist in `src/presentation/components/ui/`:
  - Text (`Text.tsx`): body text with size and weight variants
  - Heading (`Heading.tsx`): semantic levels h1–h6 via prop; uses correct roles
  - Input (`Input.tsx`): label, helper text, error state, required, disabled, `aria-*` wiring
  - Button (`Button.tsx`): variants (primary, secondary, ghost), sizes, disabled, loading state (spinner), full-width option
  - Link (`Link.tsx`): wrapper around Next.js Link, external vs internal handling, underline behavior
  - Image (`Image.tsx`): wrapper around Next.js Image with required width/height, priority toggle, and `alt` required
- All components:
  - Are implemented as arrow functions with `export default`, props typed with `type` (no `interface`), no `any`
  - Contain no business logic and no network calls
  - Use SCSS (module or component stylesheet) and ONLY variables from `src/styles/variables/*` for colors, spacing, typography, and sizes
  - Contain zero inline styles and zero hardcoded values
  - Are accessible by default:
    - Use semantic HTML elements
    - Provide appropriate roles and `aria-*` attributes
    - Use centralized accessibility IDs from `src/shared/a11y/`
    - Inputs link `<label>` via `htmlFor` and `id`; error messages use `role="alert"` and `aria-describedby`
  - Are optimized to prevent unnecessary re-renders:
    - Use `React.memo` when props are stable
    - Memoize expensive calculations with `useMemo` and event handlers with `useCallback` when passed down
    - Avoid creating new objects/arrays in render paths
  - Buttons support a visible loading state that disables interaction and sets `aria-busy="true"`
- Styles:
  - New component SCSS placed in `src/styles/components/` where applicable
  - All style values sourced from variables in `src/styles/variables/_colors.scss`, `_spacing.scss`, `_typography.scss`; add missing variables there if needed (no literals)
- Accessibility:
  - Create `src/shared/a11y/ids.ts` constants and `src/shared/a11y/utils.ts` utilities for centralized accessibility ID generation and reuse
  - Decorative icons marked `aria-hidden="true"`
- Testing:
  - Unit tests added for each reusable UI component under `__tests__/presentation/components/ui/*` using React Testing Library
  - Tests cover rendering, prop-driven variants, disabled/loading states, and accessibility attributes (labels, roles, `aria-*`)
- Documentation:
  - Brief JSDoc on components describing props and accessibility behavior where non-obvious

## Technical Considerations

- Clean Architecture:
  - Presentation only: components live in `src/presentation/components/ui/`
  - No business logic in components; no React Query or Supabase calls
  - Accessibility utilities live in `src/shared/a11y/` and can be imported across layers
- Next.js:
  - Use `next/image` inside `Image.tsx` wrapper; require `alt`, `width`, `height`, and support `priority`
  - Use `next/link` inside `Link.tsx` wrapper; add `rel="noopener noreferrer"`/`target="_blank"` for external links
- Performance:
  - Memoize components with stable props using `React.memo`
  - Use `useCallback` for handlers passed to children
  - Avoid re-creating style objects/arrays in JSX
- Styling:
  - Enforce tokens from `src/styles/variables/*` for all sizes/colors/typography
  - Add missing tokens to variables files with descriptive names; never hardcode values
- Types:
  - Strict TypeScript; no `any`
  - Props defined with `type`, components as arrow functions with `export default`

## Definition of Done

- [ ] Components `Text`, `Heading`, `Input`, `Button`, `Link`, `Image` created in `src/presentation/components/ui/`
- [x] Centralized accessibility utilities added to `src/shared/a11y/ids.ts` and `src/shared/a11y/utils.ts`
- [ ] SCSS for components created in `src/styles/components/` and use only `src/styles/variables/*` tokens
- [ ] No inline styles or hardcoded values present
- [ ] Components are memoized appropriately and avoid unnecessary re-renders
- [ ] Reusable components covered by unit tests in `__tests__/presentation/components/ui/`
- [ ] Lint and type checks pass (`yarn check:all`)
- [ ] Basic usage examples integrated on a demo page or story (optional) without business logic

## Related Components/Files (to be created or updated)

- `src/presentation/components/ui/Text.tsx`
- `src/presentation/components/ui/Heading.tsx`
- `src/presentation/components/ui/Input.tsx`
- `src/presentation/components/ui/Button.tsx`
- `src/presentation/components/ui/Link.tsx`
- `src/presentation/components/ui/Image.tsx`
- `src/shared/a11y/ids.ts`
- `src/shared/a11y/utils.ts`
- `src/styles/components/_text.scss`
- `src/styles/components/_heading.scss`
- `src/styles/components/_input.scss`
- `src/styles/components/_button.scss`
- `src/styles/components/_link.scss`
- `src/styles/components/_image.scss`
- Update tokens in:
  - `src/styles/variables/_colors.scss`
  - `src/styles/variables/_spacing.scss`
  - `src/styles/variables/_typography.scss`

## Dependencies

- None external anticipated. Optionally, `classnames` may be used for conditional classes if already allowed in the project.

## Risks

- Inconsistent use of tokens could introduce visual drift — enforce variables-only policy in code review.
- Accessibility regressions if ARIA links and IDs are not wired correctly — covered via tests.

## Rollout Plan

1) Implement components and utilities behind the scenes  
2) Add unit tests and ensure coverage  
3) Integrate components incrementally into pages/components  
4) Monitor for regressions and iterate on tokens if needed


